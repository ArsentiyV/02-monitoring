# Домашнее задание к занятию "`Репликация и масштабирование. Часть 2`" - `Варитлов Арсентий`


### Задание 1.

Задание 1
Опишите основные преимущества использования масштабирования методами:

активный master-сервер и пассивный репликационный slave-сервер;
master-сервер и несколько slave-серверов;
активный сервер со специальным механизмом репликации — distributed replicated block device (DRBD);
SAN-кластер.
Дайте ответ в свободной форме.


Ответ. 
- Активный master-сервер и пассивный репликационный slave-сервер
При использовании такого метода выделяют два типа серверов: master и slave. Мастер используется для 
записи или изменения информации, слейв — для копирования информации с мастера и её чтения. Преимущество
данного варианта только в том, что можно снизить нагрузку чтения с Мастера.Если же БД начнет увеличичиваться, 
то придется вертикально расширять каждый сервер.

- Master-сервер и несколько slave-серверов
Это дальнейшее развитие предыдущей схемы. Чаще всего используется один мастер и несколько слейвов, так как обычно 
запросов на чтение больше, чем запросов на изменение. Главное преимущество — большое количество копий данных. 
Так, если даже головной сервер выходит из строя, любой другой сможет его заменить. Также в случае большого размера 
БД, ее части можно реплицировать на отдельный слейв.

- Активный сервер со специальным механизмом репликации — distributed replicated block device (DRBD)
DRBD (Distributed Replicated Block Device — распределённое реплицируемое блочное устройство) представляет собой 
распределенное, гибкое и универсально реплицируемое решение хранения данных для Linux. Оно отражает содержимое 
блочных устройств, таких как жесткие диски, разделы, логические тома и т.д. между серверами. Оно создает копии 
данных на двух устройствах хранения для того, чтобы в случае сбоя одного из них можно было использовать данные 
на втором. Можно сказать, что это нечто вроде сетевой конфигурации RAID 1 с дисками, отражаемыми на разные сервера. 
Первоначально DRBD использовалось главным образом в компьютерных кластерах высокой доступности (HA — high availability),
однако, начиная с девятой версии, оно может использоваться для развертывания решений облачного хранилища.

- SAN-кластер.
SAN это "выделенная сеть" отделенная от традиционных локальных (LAN) и глобальных (WAN) сетей. В общем случае, 
она предназначена для объединения ресурсов дисковой памяти, подключаемых к одному или нескольким серверам. Как 
правило, она характеризуется высокой пропускной способностью (Гигабиты/сек) между элементами дисковой системы и 
отлично масштабируемой архитектурой. SAN очень часто (практически всегда) включает специализированное ПО для 
управления, мониторинга и конфигурации. SAN обеспечивает множество преимуществ. Одно из главных это централизованные 
операции с массивами данных и управление ими. Администрирование ресурсов хранения информации для быстрорастущих 
проектов и приложений, как правило, является сложной и дорогостящей задачей. SAN кардинально снижает стоимость и 
сложность управления массивами данных и, при этом, обеспечивает существенное улучшение их характеристик.
Обеспечение увеличения производительности систем хранения данных, их отказоустойчивости и масштабируемости 
является основным преимуществом SAN. 


### Задание 2
Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. 
База данных состоит из трёх таблиц:

пользователи,
книги,
магазины (столбцы произвольно).
Опишите принципы построения системы и их разграничение или разбивку между базами данных.

Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.

Ответ. 

Очевидно, что в данной БД самоый большой объем будет таблица с информацией о книгах. На мой взгляд при 
вертикальном масштабировании необходимо вынести эту таблицу в отдельную базу данных. 
При такой схеме все базы данных будут работать в режиме Мастер-Мастер.

![Скриншот 1](https://github.com/ArsentiyV/02-monitoring/blob/main/img/vert.jpg)

При горизонтальном масштабировании таблицу с книгами необходимо разбить на несколько таблиц по определенному 
признаку (например по авторам) на несколько баз данных.
При такой схеме все базы данных будут работать в режиме Мастер-Slave.

![Скриншот 1](https://github.com/ArsentiyV/02-monitoring/blob/main/img/gor.jpg)

----


